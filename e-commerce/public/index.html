<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Commerce</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>





    <style>
body {
  overflow-x: hidden;
}

@keyframes zoomText {
  from {
    transform: scale(1);
  }
  to {
    transform: scale(1.2);
  }
}

.announcement-bar {
  background-color: #1a1624;
  color: #ffffff;
  text-align: center;
  padding: 5px;
  font-size: 14px;
  animation: zoomText 2s infinite alternate ease-in-out;
}

.top-bar {
  background-color: #f9f9f9;
  font-size: 13px;
  border-bottom: 1px solid #ddd;
}
.top-bar i {
  color: #666;
}
.top-bar a:hover {
  color: #ff9900;
}

.top-icons a {
  font-size: 0.85rem; 
  color: #333;
  text-decoration: none;
}
.search-bar input {
  border-radius: 0;
}

.slider img {
  height: 525px;
  object-fit: cover;
}

.custom-navbar {
  background-color: #14121b;
  padding-top: 15px;
  padding-bottom: 15px;
}

.custom-navbar .container {
  display: flex;
  justify-content: center;
}

.custom-navbar .nav-link {
  font-family: 'Poppins', sans-serif;
  font-weight: 500;
  color: #f2f2f2;
  margin: 0 15px;
  text-transform: uppercase;
  text-decoration: none;
  transition: all 0.3s ease;
  font-size: 0.95rem;
  letter-spacing: 0.5px;
}

.custom-navbar .nav-link:hover {
  color: #ff9900;
  transform: scale(1.05);
}

.custom-dropdown {
  background-color: #1a1624;
  border: none;
  padding: 0;
}

.custom-dropdown .dropdown-item {
  color: white;
  padding: 10px 20px;
  font-weight: 500;
  transition: background-color 0.3s ease;
}

.custom-dropdown .dropdown-item:hover {
  background-color: #ff9900;
  color: #1a1a1a;
}

.navbar-nav .dropdown:hover .dropdown-menu {
  display: block;
  margin-top: 0; 
  animation: fadeIn 0.3s ease-in-out;
}

.custom-navbar .nav-link,
.custom-dropdown .dropdown-item {
  cursor: pointer;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.btn {
  background-color: #ffffff;
  border: none;
  color: #1a1a1a;
  font-weight: 600;
  padding: 12px 28px;
  font-size: 1.1rem;
  border-radius: 5px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  transition: all 0.3s ease;
}

.btn:hover {
  background-color: #f2f2f2;
  color: #ff6f00;
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
  transform: translateY(-2px);
}


.carousel-caption-custom {
  position: absolute;
  top: 50%;
  left: 8%;
  transform: translateY(-50%);
  color: #fff;
  text-align: left;
  max-width: 520px;
  width: 90%;
  padding: 30px;
  background: rgba(0, 0, 0, 0.55);
  border-radius: 10px;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
  z-index: 10;
}


.carousel-caption-custom h1 {
  font-size: 2.5rem;
  margin-bottom: 15px;
  text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.8);
  font-weight: 700;
  line-height: 1.2;
}


.carousel-caption-custom p {
  font-size: 1.1rem;
  margin-bottom: 25px;
  text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.7);
  line-height: 1.6;
}


.carousel-caption-custom .btn {
  background-color: #ff9900;
  color: #fff;
  border: none;
  padding: 10px 20px;
  font-weight: 500;
  border-radius: 5px;
  transition: background-color 0.3s;
}

.carousel-caption-custom .btn:hover {
  background-color: #e88b00;
}


.carousel-indicators [data-bs-target] {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: #ffffff;
  opacity: 0.5;
  margin: 0 6px;
  transition: opacity 0.3s ease, background-color 0.3s ease;
}

.carousel-indicators .active {
  opacity: 1;
  background-color: #ff9900;
}

@media (max-width: 768px) {
  .carousel-caption-custom {
    top: 55%;
    left: 5%;
    padding: 20px;
    max-width: 90%;
  }

  .carousel-caption-custom h1 {
    font-size: 1.8rem;
  }

  .carousel-caption-custom p {
    font-size: 1rem;
  }
}


.image-wrapper {
  position: relative;
  overflow: hidden;
}


.image-wrapper img.card-img-top {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-radius: 6px;
  transition: transform 0.3s ease;
}

.image-wrapper:hover img.card-img-top {
  transform: scale(1.02);
}

.add-to-cart-btn {
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #ff9900;
  color: white;
  border: none;
  padding: 6px 16px;
  font-size: 0.85rem;
  border-radius: 4px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.image-wrapper:hover .add-to-cart-btn {
  opacity: 1;
}





</style>
</head>
<body>
  
    <div class="top-bar text-muted py-1 px-3">
        <div class="container d-flex justify-content-between small">
    <div>
        
        <i class="bi bi-headset me-2"></i> Customer Support | support@solaceattire.com
        <span class="ms-4"><i class="bi bi-telephone-fill me-2"></i> Phone | +92-332-2691607</span>
    </div>
    <div>
        <a href="#" class="text-muted text-decoration-none">
        <i class="bi bi-truck me-2"></i>Track Order
      </a>
    </div>
    </div>
    </div>

    <div class="announcement-bar">
    <b>Free shipping on orders over PKR 2000!</b>
    </div>

    <div class="container py-3">
    <div class="row align-items-center">
    <div class="col-md-3">
    <a href="#">
    <img src="img/salogo.png" alt="Solace Attire Logo" class="img-fluid" style="max-height: 60px;">
    </a>
    </div>
      
    <div class="col-md-6">
    <div class="input-group search-bar">
        <input type="text" class="form-control" placeholder="Search for products..." />
        <button class="btn btn-dark"><i class="bi bi-search"></i></button>
    </div>
    </div>

  <div class="col-md-3 text-end top-icons">
  <a href="#" class="text-dark me-3 text-decoration-none">
    <i class="bi bi-heart me-1"></i>Wishlist</a>

  <div class="dropdown d-inline">
  <a class="text-dark me-3 text-decoration-none dropdown-toggle" href="#" role="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
    <i class="bi bi-person me-1"></i><span id="usernamePlaceholder">Account</span></a>
  <ul class="dropdown-menu" aria-labelledby="userDropdown">
    <li><a class="dropdown-item" href="login.html" id="loginBtn">Login</a></li>
    <li><a class="dropdown-item text-danger" href="#" id="logoutBtn">Logout</a></li>
  </ul>
  </div>

  <a href="#" class="text-dark text-decoration-none"><i class="bi bi-cart me-1"></i>Cart</a>
</div>



    </div>
    </div>
    
<nav class="navbar navbar-expand-lg navbar-dark custom-navbar">
  <div class="container justify-content-center">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
      <ul class="navbar-nav" id="dynamicMenu"></ul>
    </div>
  </div>
</nav>


<div id="mainCarousel" class="carousel slide slider position-relative" data-bs-ride="carousel" data-bs-interval="3000">

  <div class="carousel-indicators">
    <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="0" class="active" aria-current="true"></button>
    <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="2"></button>
  </div>

 
  <div class="carousel-inner">
    <div class="carousel-item active position-relative">
      <img src="img/1.jpg" class="d-block w-100" alt="Slider 1">
    </div>
    <div class="carousel-item position-relative">
      <img src="img/2.jpg" class="d-block w-100" alt="Slider 2">
    </div>
    <div class="carousel-item position-relative">
      <img src="img/3.jpg" class="d-block w-100" alt="Slider 3">
    </div>
  </div>

 
  <div class="carousel-caption-custom">
    <h1 class="fw-bold">Be Bold. Be You. <br>Be Solace.</h1>
    <p class="lead"><b>Solace Attire </b> blends timeless elegance with modern trends. Crafted for men, women, and kids who value comfort, quality, and bold self-expression.</p>
    <a href="#" class="btn">Explore Latest Products</a>
  </div>
</div>




<section class="py-5 bg-light">
  <div class="container">
    <div class="text-center mb-4">
      <h1 class="fw-bold" style="font-family: 'Poppins', sans-serif;">Clothing Collection</h1>
      <strong class="text-muted">Explore our latest fashion for men and women</strong>
    </div>

    <div class="row g-4">

      <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
          <div class="position-relative">
            <span class="badge bg-danger position-absolute top-0 start-0 m-2">Sale</span>
            <div class="image-wrapper position-relative">
              <img src="img/product/hoodie.jpg" class="card-img-top" alt="Hoodie">
              <button class="add-to-cart-btn">Add to Cart</button>
            </div>
          </div>
          <div class="card-body">
            <h6 class="card-title">Classic Orange Hoodie</h6>
            <p class="text-danger fw-bold mb-1">PKR 2000 <del class="text-muted fs-sm">2500</del></p>
            <div class="text-warning small">
              ★★★★★ <span class="text-muted">(32)</span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
          <div class="image-wrapper position-relative">
            <img src="img/product/tshirt.jpg" class="card-img-top" alt="T-shirt">
            <button class="add-to-cart-btn">Add to Cart</button>
          </div>
          <div class="card-body">
            <h6 class="card-title">Minimal Printed White T-shirt</h6>
            <p class="text-danger fw-bold mb-1">PKR 1500</p>
            <div class="text-warning small">
              ★★★★☆ <span class="text-muted">(18)</span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
          <div class="image-wrapper position-relative">
            <img src="img/product/jacket.jpg" class="card-img-top" alt="Jacket">
            <button class="add-to-cart-btn">Add to Cart</button>
          </div>
          <div class="card-body">
            <h6 class="card-title">Zipper Jacket</h6>
            <p class="text-danger fw-bold mb-1">PKR 6000</p>
            <div class="text-warning small">
              ★★★★☆ <span class="text-muted">(21)</span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
          <div class="position-relative">
            <span class="badge bg-success position-absolute top-0 start-0 m-2">New</span>
            <div class="image-wrapper position-relative">
              <img src="img/product/sweatshirt.jpg" class="card-img-top" alt="Sweatshirt">
              <button class="add-to-cart-btn">Add to Cart</button>
            </div>
          </div>
          <div class="card-body">
            <h6 class="card-title">Cozy Fit Black Sweatshirt</h6>
            <p class="text-danger fw-bold mb-1">PKR 1800</p>
            <div class="text-warning small">
              ★★★★☆ <span class="text-muted">(14)</span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>
<script>

  window.onload = function () {
    const token = localStorage.getItem("token");
    const name = localStorage.getItem("name");
    if (name) {
      document.getElementById("usernamePlaceholder").innerText = name;
    }
    if (token) {
      fetch("http://localhost:3000/api/validateToken", {
        method: "POST",
        headers: {
          'Authorization': `Bearer ${token}`
        }
      })
      .then(response => {
        if (!response.ok) {
          localStorage.clear();
          window.location.href = "login.html";
        }
      })
      .catch(err => {
        console.error("Token check error:", err);
        localStorage.clear();
        window.location.href = "login.html";
      });
    }
  };


  $(document).ready(function () {
    $("#logoutBtn").on("click", function () {
      localStorage.removeItem("token");
      localStorage.removeItem("name");
      localStorage.removeItem("isLoggedIn");
      
      window.location.href = "login.html";
    });
  });

  //FETCH MENU JS CODE
  
  function getMenu() {
  $.ajax({
    url: 'http://localhost:3000/api/getMenu',
    method: 'GET',
    success: function (data) {
      let menuHtml = '';

      const slugMap = {
        "Home": "index.html",
        "Shop": "shop.html",
        "Men": "men.html",
        "Women": "women.html",
        "Kids": "kids.html",
        "Accessories": "accessories.html",
        "About Us": "about.html",
        "FAQ": "faq.html",
        "Size Guide": "size-guide.html",
        "Return & Exchange": "return.html",
        "Privacy Policy": "privacy.html",
        "Contact Us": "contact.html"
      };

      for (let i = 0; i < data.length; i++) {
        const parent = data[i];
        const parentSlug = slugMap[parent.title] || "#";

        if (parent.children && parent.children.length > 0) {
          menuHtml += `
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="${parentSlug}" role="button" data-bs-toggle="dropdown">
                ${parent.title}
              </a>
              <ul class="dropdown-menu custom-dropdown">
          `;

          for (let j = 0; j < parent.children.length; j++) {
            const child = parent.children[j];
            const childSlug = slugMap[child.title] || "#";
            menuHtml += `<li><a class="dropdown-item" href="${childSlug}">${child.title}</a></li>`;
          }

          menuHtml += `</ul></li>`;
        } else {
          menuHtml += `<li class="nav-item"><a class="nav-link" href="${parentSlug}">${parent.title}</a></li>`;
        }
      }

      $('#dynamicMenu').html(menuHtml);
    },
    error: function (jqXHR, textStatus, errorThrown) {
      console.log("Status Code:", jqXHR.status);
      console.log("Status Text:", jqXHR.statusText);
      console.log("Response Text:", jqXHR.responseText);
      console.log("Text Status:", textStatus);
      console.log("Error Thrown:", errorThrown);
    }
  });
}

$(document).ready(function () {
  getMenu();
});


</script>


</body>
</html>